@*Movie Collection Form*@

@model Record

@{
    ViewBag.Title = "Contribute to the Collection";
	int currentYear = DateTime.Now.Year; // Get the current year
}

<!DOCTYPE html>
    <html>
    <head>
        <title>@ViewBag.Title</title>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                let currentYear = new Date().getFullYear(); // Get Current Year in JS
                document.getElementById("year").setAttribute("max", currentYear);
            });
        </script>
    </head>
    <body>
        <h1>Add a New Movie</h1>
        <form method="post">
            <label asp-for="CategoryId">Category:</label>
            <select asp-for="CategoryId">
			    <option value="">Select a Category</option>
			    @foreach (Category c in ViewBag.Categories)
			    {
				    <option value="@c.CategoryId">@c.CategoryName</option>
			    })
            </select>
            <br /><br />

            @* Required *@
            <label asp-for="Title">Title:</label>
            <input asp-for="Title" type="text" id="title" name="Title" required />
            <br /><br />

            @* Required *@
            <label asp-for=Year>Year:</label>
            <input asp-for="Year" type="number" id="year" name="Year" min="1888" max="@currentYear" required />
            <br /><br />

            <label asp-for="Director">Director:</label>
            <input asp-for="Director" type="text" id="director" name="Director" />
            <br /><br />

            @* DropDown Menu *@
            <label asp-for="Rating">Rating:</label>
            @* Options avaible are G, PG, PG-13, R, NC-17, NR/UR*@
            <select asp-for="Rating" id="rating" name="Rating" >
                <option value="G">G (General Audiences)</option>
                <option value="PG">PG (Parental Guidance Suggested)</option>
                <option value="PG-13">PG-13 (Parents Strongly Cautioned)</option>
                <option value="R">R (Restricted)</option>
                <option value="NC-17">NC-17 (Adults Only)</option>
                <option value="NR/UR">NR/UR (Not Rated/Unrated)</option>
            </select>
            <br /><br />

            @* Required *@
            @* True/False Option *@
            <label asp-for="Edited">Edited:</label>
            <select asp-for="Edited" id="edited" name="Edited" required>
                <option value="1">Yes</option>
                <option value="0">No</option>
            </select>
            <br /><br />

            <label asp-for="LentTo">Lent To:</label>
            <input asp-for="LentTo" id="lentTo" name="LentTo" />
            <br /><br />

            @* Required *@
            @* True/False Option *@
            <label asp-for="CopiedToPlex">Copied to Plex:</label>
        <select asp-for="CopiedToPlex" id="copiedToPlex" name="CopiedToPlex" required>
                <option value="1">Yes</option>
                <option value="0">No</option>
            </select>
            <br /><br />

            @* 25 Char Max *@
            <label asp-for="Notes">Notes:</label>
            <input asp-for="Notes" id="notes" name="Notes" maxlength="25" placeholder="Max 25 characters" />
            <br /><br />

            <button type="submit">Submit</button>
        </form>
            

    </body>
    </html>